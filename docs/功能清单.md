# CVS 志愿服务数字化系统 - 功能清单

## 一、PC端（CVS-frontend）

### 1. 学生角色（Student）

#### 1.1 账户管理
- 注册/登录/登出
- 个人信息查看与修改
- 密码修改/重置

#### 1.2 活动管理
- 浏览活动列表（筛选：状态、时间、关键词）
- 查看活动详情
- 报名活动
- 查看我的报名记录
- 取消报名

#### 1.3 签到签退
- 扫描签到二维码
- 扫描签退二维码
- 提交自评（评分+评价）
- 查看教师评价

#### 1.4 服务记录
- 查看服务记录列表
- 查看服务时长统计
- 导出服务记录

#### 1.5 积分系统
- 查看积分余额
- 查看积分明细（获得/消费）
- 积分排行榜

#### 1.6 证书管理
- 申请志愿服务证书（选择时间段、填写用途）
- 查看证书申请记录
- 下载已批准的证书PDF
- 预览证书

#### 1.7 积分商城
- 浏览商品列表（按分类）
- 查看商品详情
- 兑换商品
- 查看兑换记录
- 查看兑换码/二维码

#### 1.8 通知中心
- 查看通知列表
- 未读通知数量提醒
- 标记已读/全部已读
- 删除通知

#### 1.9 数据统计
- 个人数据看板（参与活动数、服务时长、积分统计）
- 活动参与趋势图表

---

### 2. 教师角色（Teacher）

#### 2.1 账户管理
- 登录/登出
- 个人信息查看与修改
- 密码修改

#### 2.2 活动管理
- 创建活动（草稿/提交审批）
- 编辑活动
- 删除活动
- 发布活动（提交审批）
- 取消活动
- 查看我创建的活动列表
- 查看活动详情及报名情况

#### 2.3 报名审批
- 查看活动报名列表
- 审批报名（通过/拒绝）
- 批量审批
- 查看已审批记录

#### 2.4 签到签退管理
- 生成签到二维码（5分钟有效）
- 生成签退二维码（5分钟有效）
- 查看签到/签退情况
- 查看待签到/待签退学生列表

#### 2.5 学生评价
- 查看待评价列表（已签退的学生）
- 查看学生自评
- 提交教师评价（评分+评语）
- 确认最终评分（触发积分发放）

#### 2.6 证书审批
- 查看证书申请列表
- 审批证书（通过/拒绝）
- 查看学生服务记录

#### 2.7 商品核销
- 扫描学生兑换码二维码
- 核销商品
- 查看核销记录

#### 2.8 通知中心
- 查看通知列表
- 未读通知提醒
- 标记已读/删除

#### 2.9 数据统计
- 教师数据看板（创建活动数、参与学生数、活动完成率）
- 活动统计图表

---

### 3. 管理员角色（Admin/学工处）

#### 3.1 账户管理
- 登录/登出
- 个人信息管理

#### 3.2 用户管理
- 查看用户列表（学生/教师）
- 搜索用户
- 编辑用户信息
- 删除用户
- 重置用户密码

#### 3.3 活动管理
- 查看所有活动列表
- 审批活动（通过/拒绝）
- 直接创建并发布活动
- 编辑任意活动
- 删除活动
- 取消活动
- 查看活动详情及报名情况

#### 3.4 报名管理
- 查看所有报名记录
- 审批报名
- 批量操作

#### 3.5 签到签退管理
- 生成签到/签退二维码
- 查看签到/签退情况
- 学生评价管理

#### 3.6 证书管理
- 查看所有证书申请
- 审批证书
- 查看证书统计
- 导出证书数据

#### 3.7 积分管理
- 查看用户积分列表
- 手动调整积分（增加/扣除）
- 查看积分明细
- 积分排行榜
- 导出积分数据

#### 3.8 商城管理
- **商品管理**
  - 创建商品
  - 编辑商品
  - 删除商品
  - 上架/下架商品
  - 库存管理
  - 商品图片上传
- **分类管理**
  - 创建分类
  - 编辑分类
  - 删除分类
  - 排序管理
- **兑换管理**
  - 查看兑换记录
  - 核销商品
  - 取消兑换
  - 兑换统计
  - 导出兑换数据

#### 3.9 通知管理
- 查看所有通知
- 发送系统通知（群发/单发）
- 通知模板管理

#### 3.10 数据统计
- 管理员数据看板
  - 用户统计（学生/教师数量、活跃度）
  - 活动统计（总数、进行中、已完成）
  - 报名统计（报名率、参与率）
  - 积分统计（发放总量、消费总量）
  - 商城统计（兑换量、热门商品）
- 多维度图表分析
  - 活动趋势图
  - 参与度分析
  - 积分流向分析
  - 商品兑换趋势
- 数据导出（Excel）

---

## 二、移动端（CVS-mobile）

### 1. 学生角色（Student）

#### 1.1 账户管理
- 登录/登出
- 个人信息查看与修改
- 密码修改

#### 1.2 活动管理
- 浏览活动列表（下拉刷新、上拉加载）
- 搜索活动
- 查看活动详情
- 报名活动
- 我的报名（待审批/已通过/已拒绝）
- 取消报名

#### 1.3 签到签退
- 扫码签到（调用原生相机）
- 扫码签退
- 提交自评
- 查看教师评价

#### 1.4 服务记录
- 查看服务记录列表
- 服务时长统计卡片

#### 1.5 积分系统
- 积分余额显示（首页卡片）
- 积分明细列表
- 积分排行榜

#### 1.6 证书管理
- 申请证书
- 证书申请记录
- 下载/分享证书

#### 1.7 积分商城
- 商品列表（分类筛选）
- 商品详情
- 兑换商品
- 兑换记录
- 兑换码展示（二维码）

#### 1.8 通知中心
- 通知列表（红点提醒）
- 通知详情
- 标记已读

#### 1.9 个人中心
- 个人信息展示
- 数据统计卡片
- 设置（修改密码、退出登录）

---

### 2. 教师角色（Teacher）

#### 2.1 账户管理
- 登录/登出
- 个人信息管理

#### 2.2 活动管理
- 创建活动（表单填写）
- 我的活动列表
- 编辑活动
- 发布活动
- 查看活动详情
- 查看报名情况

#### 2.3 报名审批
- 待审批列表（红点提醒）
- 报名详情
- 审批操作（通过/拒绝）
- 批量审批

#### 2.4 签到签退管理
- 生成签到二维码（展示倒计时）
- 生成签退二维码
- 实时查看签到/签退人数
- 签到/签退名单

#### 2.5 学生评价
- 待评价列表
- 查看学生自评
- 提交教师评价
- 确认评分

#### 2.6 证书审批
- 证书申请列表
- 查看申请详情
- 审批操作

#### 2.7 商品核销
- 扫码核销
- 核销记录

#### 2.8 通知中心
- 通知列表
- 通知详情

#### 2.9 数据统计
- 教师数据看板（卡片展示）
- 活动统计

---

### 3. 管理员角色（Admin）

#### 3.1 账户管理
- 登录/登出
- 个人信息管理

#### 3.2 用户管理
- 用户列表（搜索）
- 用户详情
- 编辑用户
- 删除用户

#### 3.3 活动管理
- 所有活动列表
- 活动审批（待审批列表）
- 创建活动
- 编辑活动
- 删除活动
- 活动详情

#### 3.4 报名管理
- 所有报名记录
- 审批操作

#### 3.5 签到签退管理
- 生成二维码
- 查看签到/签退情况
- 评价管理

#### 3.6 证书管理
- 证书申请列表
- 审批证书
- 证书统计

#### 3.7 积分管理
- 用户积分列表
- 手动调整积分
- 积分排行榜

#### 3.8 商城管理
- 商品管理（CRUD）
- 分类管理
- 兑换记录
- 核销操作
- 商城统计

#### 3.9 通知管理
- 发送通知
- 通知记录

#### 3.10 数据统计
- 管理员数据看板
- 多维度统计图表
- 数据导出

---

## 功能模块代码位置索引

### 后端（CVS-backend）

| 模块 | Controller | Service | Entity | Mapper |
|------|-----------|---------|--------|--------|
| 认证授权 | AuthController.java | UserServiceImpl.java | User.java | UserMapper.java |
| 活动管理 | ActivityController.java | ActivityServiceImpl.java | Activity.java | ActivityMapper.java |
| 报名管理 | SignupController.java | SignupServiceImpl.java | Signup.java | SignupMapper.java |
| 签到签退 | CheckController.java | CheckServiceImpl.java / CheckTokenServiceImpl.java | Signup.java | SignupMapper.java |
| 服务记录 | ServiceRecordController.java | ServiceRecordServiceImpl.java | ServiceRecord.java | ServiceRecordMapper.java |
| 积分系统 | PointsController.java | PointsServiceImpl.java | Points.java | PointsMapper.java |
| 证书管理 | CertificateController.java | CertificateServiceImpl.java / PdfServiceImpl.java | Certificate.java | CertificateMapper.java |
| 商城-商品 | ProductController.java | ProductServiceImpl.java | Product.java | ProductMapper.java |
| 商城-分类 | CategoryController.java | CategoryServiceImpl.java | Category.java | CategoryMapper.java |
| 商城-兑换 | RedemptionController.java | RedemptionServiceImpl.java | Redemption.java | RedemptionMapper.java |
| 通知系统 | NotificationController.java | NotificationServiceImpl.java / NotificationTemplateServiceImpl.java | Notification.java | NotificationMapper.java |
| 用户管理 | UserController.java | UserServiceImpl.java | User.java | UserMapper.java |
| 数据统计 | StatisticsController.java | StatisticsServiceImpl.java | - | - |

### PC前端（CVS-frontend）

| 模块 | API | Views | Components |
|------|-----|-------|-----------|
| 认证授权 | api/auth.js | views/auth/* | - |
| 活动管理 | api/activity.js | views/student/activities/* <br> views/teacher/activities/* <br> views/admin/activities/* | - |
| 报名管理 | api/signup.js | views/student/my-signups/* <br> views/teacher/signups/* | - |
| 签到签退 | api/check.js | views/student/check/* <br> views/teacher/check/* | components/QRScanner.vue <br> components/QRDisplay.vue |
| 服务记录 | api/serviceRecord.js | views/student/records/* | - |
| 积分系统 | api/points.js | views/student/points/* <br> views/admin/points/* | - |
| 证书管理 | api/certificate.js | views/student/certificates/* <br> views/admin/certificates/* | - |
| 商城管理 | api/mall.js | views/student/mall/* <br> views/admin/mall/* | - |
| 通知系统 | api/notification.js | views/common/notifications/* | components/NotificationBell.vue |
| 用户管理 | api/user.js | views/admin/users/* | - |
| 数据统计 | api/statistics.js | views/admin/dashboard/* <br> views/teacher/dashboard/* <br> views/student/dashboard/* | components/Charts/* |

### 移动端（CVS-mobile）

| 模块 | API | Pages |
|------|-----|-------|
| 认证授权 | api/auth.js | pages/index/* |
| 活动管理 | api/activity.js | pages/student/activities/* <br> pages/student-sub/activity-detail/* |
| 报名管理 | api/signup.js | pages/student/my-signups/* |
| 签到签退 | api/check.js | pages/student-sub/check/* |
| 服务记录 | api/serviceRecord.js | pages/student/records/* |
| 积分系统 | api/points.js | pages/student/points/* |
| 证书管理 | api/certificate.js | pages/student-sub/certificates/* |
| 商城管理 | api/mall.js | pages/student/mall/* |
| 通知系统 | api/notification.js | pages/student/notifications/* |
| 个人中心 | api/user.js | pages/student/profile/* |

---

## 关键业务流程

### 1. 活动完整流程
```
教师创建活动 → 提交审批 → 管理员审批 → 发布活动 → 学生报名 →
教师审批报名 → 活动开始 → 学生签到 → 参与活动 → 学生签退 →
学生自评 → 教师评价 → 确认评分 → 积分发放 → 生成服务记录
```

### 2. 证书申请流程
```
学生申请证书（选择时间段） → 系统验证资格（最少2小时） →
管理员/教师审批 → 生成PDF证书 → 学生下载证书
```

### 3. 商品兑换流程
```
学生浏览商品 → 选择商品兑换 → 验证积分和库存 → 扣除积分 →
减少库存 → 生成兑换码 → 学生展示二维码 → 教师/管理员扫码核销
```

### 4. 签到签退流程
```
教师生成签到二维码（5分钟有效） → 学生扫码签到 →
活动进行中 → 教师生成签退二维码 → 学生扫码签退 →
学生提交自评 → 教师查看并评价 → 确认评分 → 触发积分发放
```
